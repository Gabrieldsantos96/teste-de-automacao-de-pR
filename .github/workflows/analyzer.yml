name: PR Summary

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  pr-summary:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:
      - name: PR Summary
        uses: ai-action/pull-request-summary@v1
        with:
          prompt: |
            Você é um analista de Pull Requests. Gere relatórios técnicos detalhados de forma clara e estruturada, incluindo resumo, novas features, impacto no sistema, possíveis melhorias de código, pontos de atenção em bugs/performance e um diagrama textual em Mermaid. Analise este Pull Request e gere um relatório completo.

            Arquivos modificados:
            $FILES

            Diffs:
            $DIFFS